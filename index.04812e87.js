!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t,n,r,a,o,c="name",u="position",l="office",i="salary",d="desc",s="input",m="select",f="text",p="number",v=["Tokyo","Singapure","London","New York","Edinburgh","San Francisco"],y="Error",C="Success",h={MIN_TEXT_LENGTH:function(e){return"".concat(e," must be at least ").concat(4," characters long")},MAX_TEXT_LENGTH:function(e){return"".concat(e," must be less than ").concat(30," characters long")},INVALID_NUMBER:function(e){return"".concat(e," must be a positive number without any other characters")},INVALID_AGE:function(e){return"".concat(e," must be between ").concat(18," and ").concat(90)}},b=[{tag:s,nameValue:c,type:f,required:!0},{tag:s,nameValue:u,type:f,required:!0},{tag:m,nameValue:l,required:!0,options:v},{tag:s,nameValue:"age",type:p,required:!0},{tag:s,nameValue:i,type:p,required:!0}];function E(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(+e)}function x(e,t,n){var r,a,o=document.createElement("div"),c=((r=document.createElement("h3")).textContent=e,r.className="title",r),u=((a=document.createElement("p")).textContent=t,a);o.dataset.qa="notification",o.classList.add("notification",n?"success":"error"),o.appendChild(c),o.appendChild(u),document.body.appendChild(o),setTimeout(function(){document.body.removeChild(o)},3e3)}function g(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}function S(e){var t=e.value.replace(/\s+/g," ").trim();return t.length<4?h.MIN_TEXT_LENGTH(g(e.name)):t.length>30?h.MAX_TEXT_LENGTH(g(e.name)):null}function q(e){var t=+e.value;return/^\d+$/.test(e.value)?"age"===e.name&&(t<18||t>90)?h.INVALID_AGE(g(e.name)):void 0:h.INVALID_NUMBER(g(e.name))}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=e.textContent,a=document.createElement("input"),o="text"===n?S:q;t===i?a.value=r.replace(/[$,]/g,""):a.value=r,a.name=t,a.classList.add("cell-input"),a.type=n,e.textContent="",e.appendChild(a),a.focus(),a.onblur=function(){if(""===a.value){e.textContent=r;return}var n=o(a);if(n){x(y,n,!1),a.focus();return}t===i?e.textContent=E(a.value):e.textContent=a.value,x(C,"Cell updated",!0)},a.addEventListener("keydown",function(n){if("Enter"===n.key){if(""===a.value){e.textContent=r;return}var c=o(a);c?(x(y,c,!1),e.textContent=r):(t===i?e.textContent=E(a.value):e.textContent=a.value,x(C,"Cell updated",!0))}})}var A="active",N=null,w=null,I=null,k=null,T=document.querySelector("table");t=T.querySelector("thead"),n=T.querySelector("tbody"),t.addEventListener("click",function(e){var r=e.target.closest("th");if(r){I!==r?(I=r,k="asc"):k="asc"===k?d:"asc";var a,o,s=r.textContent.toLowerCase(),m=Array.from(t.querySelectorAll("th")).findIndex(function(e){return e.textContent.toLowerCase()===s});(a=Array.from(n.querySelectorAll("tr")),o=k,a.sort(function(e,t){var n=e.children[m].textContent,r=t.children[m].textContent,a=0;switch(s){case c:case u:case l:a=n.localeCompare(r);break;case"age":a=+n-+r;break;case i:a=+n.replace(/[^0-9.-]+/g,"")-+r.replace(/[^0-9.-]+/g,"");break;default:a=0}return o===d&&(a=-a),a})).forEach(function(e){n.append(e)})}}),function(e){e.querySelector("tbody").addEventListener("click",function(e){var t=e.target.closest("tr");t&&t!==N&&(w&&w.classList.remove(A),(N=t).className=A,w=N)})}(T),(r=function(){var e,t=document.createElement("form");t.className="new-employee-form";var n=!0,r=!1,a=void 0;try{for(var o,c=b[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value,l=function(e){var t=e.nameValue,n=e.tag,r=e.type,a=e.required,o=e.options,c=document.createElement("label"),u=document.createElement(n);return c.textContent="".concat(t[0].toUpperCase()).concat(t.slice(1),": "),u.name=t,u.required=a,u.dataset.qa=t,c.appendChild(u),n===m?o.forEach(function(e,t){var n=document.createElement("option");0===t&&(n.selected=!0),n.value=e,n.textContent=e,u.append(n)}):u.type=r,c}(u);t.appendChild(l)}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}var i=((e=document.createElement("button")).type="submit",e.textContent="Save to table",e);return t.appendChild(i),document.body.insertBefore(t,document.querySelector("script")),t}()).onsubmit=function(e){e.preventDefault();var t,n,a,o=!0,c=!1,u=void 0;try{for(var l,i=r.elements[Symbol.iterator]();!(o=(l=i.next()).done);o=!0){var d=l.value;if("submit"!==d.type){var s=void 0;switch(d.type){case"text":s=S(d);break;case"number":s=q(d)}if(s){x(y,s,!1);return}}}}catch(e){c=!0,u=e}finally{try{o||null==i.return||i.return()}finally{if(c)throw u}}t=r.elements,n=document.querySelector("tbody"),a=function(e){var t=document.createElement("tr"),n=!0,r=!1,a=void 0;try{for(var o,c=b[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value.nameValue,l=document.createElement("td");"salary"===u?l.textContent=E(e[u].value):l.textContent=e[u].value,t.appendChild(l)}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}(t),n.appendChild(a),x(C,"Employee added successfully",!0),r.reset()},a=T.querySelector("tbody"),o=T.querySelector("thead tr"),a.addEventListener("dblclick",function(t){var n=t.target.closest("td");if(!(!n||n.querySelector("input, select"))){var r,a,d,s=((function(t){if(Array.isArray(t))return e(t)})(r=n.parentNode.children)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).findIndex(function(e){return e===n}),m=o.children[s].textContent.toLowerCase();switch(m){case c:case u:L(n,m);break;case l:a=document.createElement("select"),d=n.textContent,v.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,d===e&&(t.selected=!0),a.appendChild(t)}),n.textContent="",n.appendChild(a),a.focus(),a.onblur=function(){n.textContent=a.value,x(C,"Cell updated",!0)},a.addEventListener("keydown",function(e){"Enter"===e.key&&(n.textContent=a.value,x(C,"Cell updated",!0))});break;case"age":case i:L(n,m,p)}}})}();
//# sourceMappingURL=index.04812e87.js.map
